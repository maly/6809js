(function(a,b){if(typeof module!="undefined"){module.exports=b();}else{if(typeof define=="function"&&typeof define.amd=="object"){define(b);}else{this[a]=b();
}}}("CPU6809",function(){var r,o,e,c,g,i,an,aq,aa,b=1,Y=2,ab=4,h=8,ao=16,d=32,az=64,aH=128,aj=65534,ai=65532,ay=65530,aD=65528,av=65526,G=65524,F=65522,ac=0;
var ae;var n,u;var aw=[6,0,0,6,6,0,6,6,6,6,6,0,6,6,3,6,0,0,2,4,0,0,5,9,0,2,3,0,3,2,8,6,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,4,4,4,4,5,5,5,5,0,5,3,6,9,11,0,19,2,0,0,2,2,0,2,2,2,2,2,0,2,2,0,2,2,0,0,2,2,0,2,2,2,2,2,0,2,2,0,2,6,0,0,6,6,0,6,6,6,6,6,0,6,6,3,6,7,0,0,7,7,0,7,7,7,7,7,0,7,7,4,7,2,2,2,4,2,2,2,0,2,2,2,2,4,7,3,0,4,4,4,6,4,4,4,4,4,4,4,4,6,7,5,5,4,4,4,6,4,4,4,4,4,4,4,4,6,7,5,5,5,5,5,7,5,5,5,5,5,5,5,5,7,8,6,6,2,2,2,4,2,2,2,0,2,2,2,2,3,0,3,0,4,4,4,6,4,4,4,4,4,4,4,4,5,5,5,5,4,4,4,6,4,4,4,4,4,4,4,4,5,5,5,5,5,5,5,7,5,5,5,5,5,5,5,5,6,6,6,6];
var B=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,20,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,5,0,0,0,0,0,0,0,0,5,0,4,0,0,0,0,7,0,0,0,0,0,0,0,0,7,0,6,6,0,0,0,7,0,0,0,0,0,0,0,0,7,0,6,6,0,0,0,8,0,0,0,0,0,0,0,0,8,0,7,7,0,0,0,0,0,0,0,0,0,0,0,0,0,0,4,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,6,6,0,0,0,0,0,0,0,0,0,0,0,0,0,0,6,6,0,0,0,0,0,0,0,0,0,0,0,0,0,0,7,7];
var H=[4,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8];
var j=function(aJ,T,aK){aq|=(((aJ^T^aK^(aK>>1))&128)>>6);};var a=function(aJ,T,aK){aq|=(((aJ^T^aK^(aK>>1))&32768)>>14);};var I=function(){return r*256+o;
};var al=function(T){r=(T>>8)&255;o=T&255;};var W=function(T){n(--i,T&255);};var M=function(T){n(--i,T&255);n(--i,(T>>8)&255);};var v=function(T){n(--g,T&255);
};var ap=function(T){n(--g,T&255);n(--g,(T>>8)&255);};var l=function(T){return u(i++);};var aG=function(T){return u(i++)*256+u(i++);};var aA=function(T){return u(g++);
};var O=function(T){return u(g++)*256+u(g++);};var K=function(aJ){var T=0;if(aJ&128){M(an);T+=2;}if(aJ&64){M(g);T+=2;}if(aJ&32){M(c);T+=2;}if(aJ&16){M(e);
T+=2;}if(aJ&8){W(aa);T++;}if(aJ&4){W(o);T++;}if(aJ&2){W(r);T++;}if(aJ&1){W(aq);T++;}ac+=T;};var J=function(aJ){var T=0;if(aJ&128){ap(an);T+=2;}if(aJ&64){ap(i);
T+=2;}if(aJ&32){ap(c);T+=2;}if(aJ&16){ap(e);T+=2;}if(aJ&8){v(aa);T++;}if(aJ&4){v(o);T++;}if(aJ&2){v(r);T++;}if(aJ&1){v(aq);T++;}ac+=T;};var am=function(aJ){var T=0;
if(aJ&1){aq=l();T++;}if(aJ&2){r=l();T++;}if(aJ&4){o=l();T++;}if(aJ&8){aa=l();T++;}if(aJ&16){e=aG();T+=2;}if(aJ&32){c=aG();T+=2;}if(aJ&64){g=aG();T+=2;}if(aJ&128){an=aG();
T+=2;}ac+=T;};var ak=function(aJ){var T=0;if(aJ&1){aq=aA();T++;}if(aJ&2){r=aA();T++;}if(aJ&4){o=aA();T++;}if(aJ&8){aa=aA();T++;}if(aJ&16){e=O();T+=2;}if(aJ&32){c=O();
T+=2;}if(aJ&64){i=O();T+=2;}if(aJ&128){an=O();T+=2;}ac+=T;};var N=function(T){switch(T&15){case 0:return I();case 1:return e;case 2:return c;case 3:return g;
case 4:return i;case 5:return an;case 8:return r;case 9:return o;case 10:return aq;case 11:return aa;default:return null;}};var D=function(aJ,T){switch(aJ&15){case 0:al(T);
return;case 1:e=T;return;case 2:c=T;return;case 3:g=T;return;case 4:i=T;return;case 5:an=T;return;case 8:r=T;return;case 9:o=T;return;case 10:aq=T;return;
case 11:aa=T;return;default:return;}};var w=function(T,aJ){var aK=T&136;if(aK==128||aK==8){aK=0;}if(aJ){aK=N(T>>4);D(T>>4,N(T));D(T,aK);}else{D(T,N(T>>4));
}};var S=function(T){return(T>127)?(T-256):T;};var V=function(T){return(T>32767)?(T-65536):T;};var s=function(){var T=u(an++);an&=65535;return T;};var ar=function(){var aJ=u(an++);
an&=65535;var T=u(an++);an&=65535;return aJ*256+T;};var E=function(aK){var aJ=u(aK++);aK&=65535;var T=u(aK++);aK&=65535;return aJ*256+T;};var f=function(aJ,T){n(aJ++,(T>>8)&255);
aJ&=65535;n(aJ,T&255);};var q=function(){var T=s();var aN;switch(T&96){case 0:aN=e;break;case 32:aN=c;break;case 64:aN=g;break;case 96:aN=i;break;}var aL=null;
var aM=null;var aK;if(T&128){switch(T&15){case 0:aM=aN;aL=aN+1;ac+=2;break;case 1:aM=aN;aL=aN+2;ac+=3;break;case 2:aL=aN-1;aM=aL;ac+=2;break;case 3:aL=aN-2;
aM=aL;ac+=3;break;case 4:aM=aN;break;case 5:aM=aN+S(o);ac+=1;break;case 6:aM=aN+S(r);ac+=1;break;case 7:aM=0;break;case 8:aM=aN+S(s());ac+=1;break;case 9:aM=aN+V(ar());
ac+=4;break;case 10:aM=0;break;case 11:ac+=4;aM=aN+I();break;case 12:aK=S(s());aM=an+aK;ac+=1;break;case 13:aK=V(ar());aM=an+aK;ac+=5;break;case 14:aM=0;
break;case 15:ac+=5;aM=ar();break;}aM&=65535;if(T&16){aM=u(aM)*256+u((aM+1)&65535);ac+=3;}}else{var aJ=T&31;if(aJ>15){aJ-=32;}aM=aN+aJ;ac+=1;}if(aL!==null){switch(T&96){case 0:e=aL;
break;case 32:c=aL;break;case 64:g=aL;break;case 96:i=aL;break;}}return aM&65535;};var z=function(T){aq&=~(ab|h);if(T===0){aq|=ab;}if(T&32768){aq|=h;}};
var ag=function(T){T++;T&=255;aq&=~(ab|Y|h);aq|=H[T];if(T===0||T==128){aq|=Y;}return T;};var x=function(T){T--;T&=255;aq&=~(ab|Y|h);aq|=H[T];if(T===127||T==255){aq|=Y;
}return T;};var p=function(T,aK){var aJ=T-aK;aq&=~(b|ab|Y|h);aq|=H[aJ&255];if(aJ&256){aq|=b;}j(T,aK,aJ);return aJ&255;};var af=function(T,aK){var aJ=T-aK;
aq&=~(b|ab|Y|h);if((aJ&65535)===0){aq|=ab;}if(aJ&32768){aq|=h;}if(aJ&65536){aq|=b;}a(T,aK,aJ);return aJ&65535;};var P=function(T,aK){var aJ=T+aK;aq&=~(d|b|ab|Y|h);
aq|=H[aJ&255];if(aJ&256){aq|=b;}j(T,aK,aJ);if((aJ^T^aK)&16){aq|=d;}return aJ&255;};var Q=function(T,aK){var aJ=T+aK;aq&=~(b|ab|Y|h);if((aJ&65535)===0){aq|=ab;
}if(aJ&32768){aq|=h;}if(aJ&65536){aq|=b;}a(T,aK,aJ);return aJ&65535;};var R=function(T,aK){var aJ=T+aK+(aq&b);aq&=~(d|b|ab|Y|h);aq|=H[aJ&255];if(aJ&256){aq|=b;
}j(T,aK,aJ);if((aJ^T^aK)&16){aq|=d;}return aJ&255;};var y=function(T,aK){var aJ=T-aK-(aq&b);aq&=~(b|ab|Y|h);aq|=H[aJ&255];if(aJ&256){aq|=b;}j(T,aK,aJ);
return aJ&255;};var aB=function(T,aK){var aJ=T-aK;aq&=~(b|ab|Y|h);aq|=H[aJ&255];if(aJ&256){aq|=b;}j(T,aK,aJ);return;};var aE=function(T,aK){var aJ=T-aK;
aq&=~(b|ab|Y|h);if((aJ&65535)===0){aq|=ab;}if(aJ&32768){aq|=h;}if(aJ&65536){aq|=b;}a(T,aK,aJ);return;};var aC=function(T){aq&=~(b|ab|Y|h);if(T==128){aq|=Y;
}T=((~T)&255)+1;if(T===0){aq|=ab;}if(T&128){aq|=h|b;}return T;};var ah=function(T){aq&=~(ab|b|h);if(T&1){aq|=b;}T>>=1;if(T===0){aq|=ab;}return T&255;};
var aF=function(T){aq&=~(ab|b|h);if(T&1){aq|=b;}T=(T&128)|(T>>1);aq|=H[T];return T;};var aI=function(T){var aJ=T;aq&=~(ab|b|h|Y);if(T&128){aq|=b;}T<<=1;
aq|=H[T];if((T^aJ)&128){aq|=Y;}return T;};var m=function(T){var aJ=T;var aK=aq&b;aq&=~(ab|b|h|Y);if(T&128){aq|=b;}T=T<<1|aK;aq|=H[T];if((T^aJ)&128){aq|=Y;
}return T;};var k=function(T){var aJ=aq&b;aq&=~(ab|b|h);if(T&1){aq|=b;}T=T>>1|aJ<<7;aq|=H[T];return T;};var U=function(T,aJ){aq&=~(ab|h|Y);T^=aJ;aq|=H[T];
return T;};var A=function(T,aJ){aq&=~(ab|h|Y);T|=aJ;aq|=H[T];return T;};var ax=function(T,aJ){aq&=~(ab|h|Y);T&=aJ;aq|=H[T];return T;};var ad=function(T){aq&=~(ab|h|Y);
T^=255;aq|=H[T];return T;};var C=function(){return aa*256+s();};var L=function(){var aP=ac;if(ae){}var aO=null;var aK=null;var T=an;var aN=s();ac+=aw[aN];
switch(aN){case 0:aO=C();n(aO,aC(u(aO)));break;case 3:aO=C();n(aO,ad(u(aO)));break;case 4:aO=C();n(aO,ah(u(aO)));break;case 6:aO=C();n(aO,k(u(aO)));break;
case 7:aO=C();n(aO,aF(u(aO)));break;case 8:aO=C();n(aO,aI(u(aO)));break;case 9:aO=C();n(aO,m(u(aO)));break;case 10:aO=C();n(aO,x(u(aO)));break;case 12:aO=C();
n(aO,ag(u(aO)));break;case 13:aO=C();aK=u(aO);aq&=~(ab|h|Y);aq|=H[aK];break;case 14:aO=C();an=aO;break;case 15:aO=C();n(aO,0);aq&=~(b|h|Y);aq|=ab;break;
case 18:break;case 19:break;case 22:aO=V(ar());an+=aO;break;case 23:aO=V(ar());M(an);an+=aO;break;case 25:var aM=0;var aJ=r&240,aL=r&15;if(aL>9||aq&32){aM|=6;
}if(aJ>128&&aL>9){aM|=96;}if(aJ>144||aq&1){aM|=96;}aO=aM+r;aq&=~(b|h|ab|Y);if(aO&256){aq|=b;}r=aO&255;aq|=flags[r];break;case 26:aq|=s();break;case 28:aq&=s();
break;case 29:r=(o&128)?255:0;z(I());aq&=~Y;break;case 30:aK=s();w(aK,true);break;case 31:aK=s();w(aK,false);break;case 32:aO=S(s());an+=aO;break;case 33:aO=S(s());
break;case 34:aO=S(s());if(!(aq&(b|ab))){an+=aO;}break;case 35:aO=S(s());if(aq&(b|ab)){an+=aO;}break;case 36:aO=S(s());if(!(aq&b)){an+=aO;}break;case 37:aO=S(s());
if(aq&b){an+=aO;}break;case 38:aO=S(s());if(!(aq&ab)){an+=aO;}break;case 39:aO=S(s());if(aq&ab){an+=aO;}break;case 40:aO=S(s());if(!(aq&Y)){an+=aO;}break;
case 41:aO=S(s());if(aq&Y){an+=aO;}break;case 42:aO=S(s());if(!(aq&h)){an+=aO;}break;case 43:aO=S(s());if(aq&h){an+=aO;}break;case 44:aO=S(s());if(!((aq&h)^((aq&Y)<<2))){an+=aO;
}break;case 45:aO=S(s());if((aq&h)^((aq&Y)<<2)){an+=aO;}break;case 46:aO=S(s());if(!((aq&h)^((aq&Y)<<2)||(aq&ab))){an+=aO;}break;case 47:aO=S(s());if((aq&h)^((aq&Y)<<2)||(aq&ab)){an+=aO;
}break;case 48:e=q();if(e===0){aq|=ab;}else{aq&=~ab;}break;case 49:c=q();if(c===0){aq|=ab;}else{aq&=~ab;}break;case 50:i=q();break;case 51:g=q();break;
case 52:K(s());break;case 53:am(s());break;case 54:J(s());break;case 55:ak(s());break;case 57:an=aG();break;case 58:e+=o;break;case 59:aq=l();if(cc&aH){ac+=9;
r=l();o=l();aa=l();e=aG();c=aG();g=aG();}an=aG();break;case 60:aq&=s();break;case 61:aO=r*o;if(aO===0){aq|=ab;}else{aq&=~ab;}if(aO&128){aq|=b;}else{aq&=~b;
}al(aO);break;case 63:aq|=aH;M(an);M(g);M(c);M(e);W(aa);W(o);W(r);W(aq);aq|=ao|az;an=E(ay);break;case 64:r=aC(r);break;case 67:r=ad(r);break;case 68:r=ah(r);
break;case 70:r=k(r);break;case 71:r=aF(r);break;case 72:r=aI(r);break;case 73:r=m(r);break;case 74:r=x(r);break;case 76:r=ag(r);break;case 77:aq&=~(ab|h|Y);
aq|=H[r];break;case 79:r=0;aq&=~(h|Y|b);aq|=ab;break;case 80:o=aC(o);break;case 83:o=ad(o);break;case 84:o=ah(o);break;case 86:o=k(o);break;case 87:o=aF(o);
break;case 88:o=aI(o);break;case 89:o=m(o);break;case 90:o=x(o);break;case 92:o=ag(o);break;case 93:aq&=~(ab|h|Y);aq|=H[o];break;case 95:o=0;aq&=~(h|Y|b);
aq|=ab;break;case 96:aO=q();n(aO,aC(u(aO)));break;case 99:aO=q();n(aO,ad(u(aO)));break;case 100:aO=q();n(aO,ah(u(aO)));break;case 102:aO=q();n(aO,k(u(aO)));
break;case 103:aO=q();n(aO,aF(u(aO)));break;case 104:aO=q();n(aO,aI(u(aO)));break;case 105:aO=q();n(aO,m(u(aO)));break;case 106:aO=q();n(aO,x(u(aO)));break;
case 108:aO=q();n(aO,ag(u(aO)));break;case 109:aO=q();aK=u(aO);aq&=~(ab|h|Y);aq|=H[aK];break;case 110:aO=q();an=aO;break;case 111:aO=q();n(aO,0);aq&=~(b|h|Y);
aq|=ab;break;case 112:aO=ar();n(aO,aC(u(aO)));break;case 115:aO=ar();n(aO,ad(u(aO)));break;case 116:aO=ar();n(aO,ah(u(aO)));break;case 118:aO=ar();n(aO,k(u(aO)));
break;case 119:aO=ar();n(aO,aF(u(aO)));break;case 120:aO=ar();n(aO,aI(u(aO)));break;case 121:aO=ar();n(aO,m(u(aO)));break;case 122:aO=ar();n(aO,x(u(aO)));
break;case 124:aO=ar();n(aO,ag(u(aO)));break;case 125:aO=ar();aK=u(aO);aq&=~(ab|h|Y);aq|=H[aK];break;case 126:aO=ar();an=aO;break;case 127:aO=ar();n(aO,0);
aq&=~(b|h|Y);aq|=ab;break;case 128:r=p(r,s());break;case 129:aB(r,s());break;case 130:r=y(r,s());break;case 131:al(af(I(),ar()));break;case 132:r=ax(r,s());
break;case 133:ax(r,s());break;case 134:r=s();aq&=~(ab|h|Y);aq|=H[r];break;case 136:r=U(r,s());break;case 137:r=R(r,s());break;case 138:r=A(r,s());break;
case 139:r=P(r,s());break;case 140:aE(e,ar());break;case 141:aO=S(s());M(an);an+=aO;break;case 142:e=ar();z(e);aq&=~Y;break;case 144:aO=C();r=p(r,u(aO));
break;case 145:aO=C();aB(r,u(aO));break;case 146:aO=C();r=y(r,u(aO));break;case 147:aO=C();al(af(I(),E(aO)));break;case 148:aO=C();r=ax(r,u(aO));break;
case 149:aO=C();ax(r,u(aO));break;case 150:aO=C();r=u(aO);aq&=~(ab|h|Y);aq|=H[r];break;case 151:aO=C();n(aO,r);aq&=~(ab|h|Y);aq|=H[r];break;case 152:aO=C();
r=U(r,u(aO));break;case 153:aO=C();r=R(r,u(aO));break;case 154:aO=C();r=A(r,u(aO));break;case 155:aO=C();r=P(r,u(aO));break;case 156:aO=C();aE(e,E(aO));
break;case 157:aO=C();M(an);an=aO;break;case 158:aO=C();e=E(aO);z(e);aq&=~Y;break;case 159:aO=C();f(aO,e);z(e);aq&=~Y;break;case 160:aO=q();r=p(r,u(aO));
break;case 161:aO=q();aB(r,u(aO));break;case 162:aO=q();r=y(r,u(aO));break;case 163:aO=q();al(af(I(),E(aO)));break;case 164:aO=q();r=ax(r,u(aO));break;
case 165:aO=q();ax(r,u(aO));break;case 166:aO=q();r=u(aO);aq&=~(ab|h|Y);aq|=H[r];break;case 167:aO=q();n(aO,r);aq&=~(ab|h|Y);aq|=H[r];break;case 168:aO=q();
r=U(r,u(aO));break;case 169:aO=q();r=R(r,u(aO));break;case 170:aO=q();r=A(r,u(aO));break;case 171:aO=q();r=P(r,u(aO));break;case 172:aO=q();aE(e,E(aO));
break;case 173:aO=q();M(an);an=aO;break;case 174:aO=q();e=E(aO);z(e);aq&=~Y;break;case 175:aO=q();f(aO,e);z(e);aq&=~Y;break;case 176:aO=ar();r=p(r,u(aO));
break;case 177:aO=ar();aB(r,u(aO));break;case 178:aO=ar();r=y(r,u(aO));break;case 179:aO=ar();al(af(I(),E(aO)));break;case 180:aO=ar();r=ax(r,u(aO));break;
case 181:aO=ar();ax(r,u(aO));break;case 182:aO=ar();r=u(aO);aq&=~(ab|h|Y);aq|=H[r];break;case 183:aO=ar();n(aO,r);aq&=~(ab|h|Y);aq|=H[r];break;case 184:aO=ar();
r=U(r,u(aO));break;case 185:aO=ar();r=R(r,u(aO));break;case 186:aO=ar();r=A(r,u(aO));break;case 187:aO=ar();r=P(r,u(aO));break;case 188:aO=ar();aE(e,E(aO));
break;case 189:aO=ar();M(an);an=aO;break;case 190:aO=ar();e=E(aO);z(e);aq&=~Y;break;case 191:aO=ar();f(aO,e);z(e);aq&=~Y;break;case 192:o=p(o,s());break;
case 193:aB(o,s());break;case 194:o=y(o,s());break;case 195:al(Q(I(),ar()));break;case 196:o=ax(o,s());break;case 197:ax(o,s());break;case 198:o=s();aq&=~(ab|h|Y);
aq|=H[o];break;case 200:o=U(o,s());break;case 201:o=R(o,s());break;case 202:o=A(o,s());break;case 203:o=P(o,s());break;case 204:aO=ar();al(aO);z(aO);aq&=~Y;
break;case 206:g=ar();z(g);aq&=~Y;break;case 208:aO=C();o=p(o,u(aO));break;case 209:aO=C();aB(o,u(aO));break;case 210:aO=C();o=y(o,u(aO));break;case 211:aO=C();
al(Q(I(),E(aO)));break;case 212:aO=C();o=ax(o,u(aO));break;case 213:aO=C();ax(o,u(aO));break;case 214:aO=C();o=u(aO);aq&=~(ab|h|Y);aq|=H[o];break;case 215:aO=C();
n(aO,o);aq&=~(ab|h|Y);aq|=H[o];break;case 216:aO=C();o=U(o,u(aO));break;case 217:aO=C();o=R(o,u(aO));break;case 218:aO=C();o=A(o,u(aO));break;case 219:aO=C();
o=P(o,u(aO));break;case 220:aO=C();aK=E(aO);al(aK);z(aK);aq&=~Y;break;case 221:aO=C();f(aO,I());aq&=~Y;break;case 222:aO=C();g=E(aO);z(e);aq&=~Y;break;
case 223:aO=C();f(aO,g);z(g);aq&=~Y;break;case 224:aO=q();o=p(o,u(aO));break;case 225:aO=q();aB(o,u(aO));break;case 226:aO=q();o=y(o,u(aO));break;case 227:aO=q();
al(Q(I(),E(aO)));break;case 228:aO=q();o=ax(o,u(aO));break;case 229:aO=q();ax(o,u(aO));break;case 230:aO=q();o=u(aO);aq&=~(ab|h|Y);aq|=H[o];break;case 231:aO=q();
n(aO,o);aq&=~(ab|h|Y);aq|=H[o];break;case 232:aO=q();o=U(o,u(aO));break;case 233:aO=q();o=R(o,u(aO));break;case 234:aO=q();o=A(o,u(aO));break;case 235:aO=q();
o=P(o,u(aO));break;case 236:aO=q();aK=E(aO);al(aK);z(aK);aq&=~Y;break;case 237:aO=q();f(aO,I());aq&=~Y;break;case 238:aO=q();g=E(aO);z(g);aq&=~Y;break;
case 239:aO=q();f(aO,g);z(g);aq&=~Y;break;case 240:aO=ar();o=p(o,u(aO));break;case 241:aO=ar();aB(o,u(aO));break;case 242:aO=ar();o=y(o,u(aO));break;case 243:aO=ar();
al(Q(I(),E(aO)));break;case 244:aO=ar();o=ax(o,u(aO));break;case 245:aO=ar();ax(o,u(aO));break;case 246:aO=ar();o=u(aO);aq&=~(ab|h|Y);aq|=H[o];break;case 247:aO=ar();
n(aO,o);aq&=~(ab|h|Y);aq|=H[o];break;case 248:aO=ar();o=U(o,u(aO));break;case 249:aO=ar();o=R(o,u(aO));break;case 250:aO=ar();o=A(o,u(aO));break;case 251:aO=ar();
o=P(o,u(aO));break;case 252:aO=ar();aK=E(aO);al(aK);z(aK);aq&=~Y;break;case 253:aO=ar();f(aO,I());aq&=~Y;break;case 254:aO=ar();g=E(aO);z(g);aq&=~Y;break;
case 255:aO=ar();f(aO,g);z(g);aq&=~Y;break;case 16:aN=s();ac+=B[aN];switch(aN){case 33:aO=V(ar());break;case 34:aO=V(ar());if(!(aq&(b|ab))){an+=aO;}break;
case 35:aO=V(ar());if(aq&(b|ab)){an+=aO;}break;case 36:aO=V(ar());if(!(aq&b)){an+=aO;}break;case 37:aO=V(ar());if(aq&b){an+=aO;}break;case 38:aO=V(ar());
if(!(aq&ab)){an+=aO;}break;case 39:aO=V(ar());if(aq&ab){an+=aO;}break;case 40:aO=V(ar());if(!(aq&Y)){an+=aO;}break;case 41:aO=V(ar());if(aq&Y){an+=aO;}break;
case 42:aO=V(ar());if(!(aq&h)){an+=aO;}break;case 43:aO=V(ar());if(aq&h){an+=aO;}break;case 44:aO=V(ar());if(!((aq&h)^((aq&Y)<<2))){an+=aO;}break;case 45:aO=V(ar());
if((aq&h)^((aq&Y)<<2)){an+=aO;}break;case 46:aO=V(ar());if(!((aq&h)^((aq&Y)<<2)||(aq&ab))){an+=aO;}break;case 47:aO=V(ar());if((aq&h)^((aq&Y)<<2)||(aq&ab)){an+=aO;
}break;case 63:aq|=aH;M(an);M(g);M(c);M(e);W(aa);W(o);W(r);W(aq);aq|=ao|az;an=E(G);break;case 131:aE(I(),ar());break;case 140:aE(c,ar());break;case 142:c=ar();
z(c);aq&=~Y;break;case 147:aO=C();aE(I(),E(aO));break;case 156:aO=C();aE(c,E(aO));break;case 158:aO=C();c=E(aO);z(c);aq&=~Y;break;case 159:aO=C();f(aO,c);
z(c);aq&=~Y;break;case 163:aO=q();aE(I(),E(aO));break;case 172:aO=q();aE(c,E(aO));break;case 174:aO=q();c=E(aO);z(c);aq&=~Y;break;case 175:aO=q();f(aO,c);
z(c);aq&=~Y;break;case 179:aO=ar();aE(I(),E(aO));break;case 188:aO=ar();aE(c,E(aO));break;case 190:aO=ar();c=E(aO);z(c);aq&=~Y;break;case 191:aO=ar();f(aO,c);
z(c);aq&=~Y;break;case 206:i=ar();z(i);aq&=~Y;break;case 222:aO=C();i=E(aO);z(i);aq&=~Y;break;case 223:aO=C();f(aO,i);z(i);aq&=~Y;break;case 238:aO=q();
i=E(aO);z(i);aq&=~Y;break;case 239:aO=q();f(aO,i);z(i);aq&=~Y;break;case 254:aO=ar();i=E(aO);z(i);aq&=~Y;break;case 255:aO=ar();f(aO,i);z(i);aq&=~Y;break;
}break;case 17:aN=s();ac+=B[aN];switch(aN){case 63:aq|=aH;M(an);M(g);M(c);M(e);W(aa);W(o);W(r);W(aq);aq|=ao|az;an=E(F);break;case 131:aE(g,ar());break;
case 140:aE(i,ar());break;case 147:aO=C();aE(g,E(aO));break;case 156:aO=C();aE(i,E(aO));break;case 163:aO=q();aE(g,E(aO));break;case 172:aO=q();aE(i,E(aO));
break;case 179:aO=ar();aE(g,E(aO));break;case 188:aO=ar();aE(i,E(aO));break;}break;}r&=255;o&=255;aq&=255;aa&=255;e&=65535;c&=65535;g&=65535;i&=65535;an&=65535;
return ac-aP;};var Z=function(){an=E(aj);aa=0;aq|=az|ao;ac=0;};var t=[[2,1,"NEG"],[1,0,"???"],[1,0,"???"],[2,1,"COM"],[2,1,"LSR"],[1,0,"???"],[2,1,"ROR"],[2,1,"ASR"],[2,1,"LSL"],[2,1,"ROL"],[2,1,"DEC"],[1,0,"???"],[2,1,"INC"],[2,1,"TST"],[2,1,"JMP"],[2,1,"CLR"],[1,0,"Prefix"],[1,0,"Prefix"],[1,2,"NOP"],[1,2,"SYNC"],[1,0,"???"],[1,0,"???"],[3,3,"LBRA"],[3,3,"LBSR"],[1,0,"???"],[1,2,"DAA"],[2,4,"ORCC"],[1,0,"???"],[2,4,"ANDCC"],[1,2,"SEX"],[2,20,"EXG"],[2,20,"TFR"],[2,5,"BRA"],[2,5,"BRN"],[2,5,"BHI"],[2,5,"BLS"],[2,5,"BCC"],[2,5,"BCS"],[2,5,"BNE"],[2,5,"BEQ"],[2,5,"BVC"],[2,5,"BVS"],[2,5,"BPL"],[2,5,"BMI"],[2,5,"BGE"],[2,5,"BLT"],[2,5,"BGT"],[2,5,"BLE"],[2,6,"LEAX"],[2,6,"LEAY"],[2,6,"LEAS"],[2,6,"LEAU"],[2,10,"PSHS"],[2,10,"PULS"],[2,11,"PSHU"],[2,11,"PULU"],[1,0,"???"],[1,2,"RTS"],[1,2,"ABX"],[1,2,"RTI"],[2,2,"CWAI"],[1,2,"MUL"],[1,2,"RESET"],[1,2,"SWI1"],[1,2,"NEGA"],[1,0,"???"],[1,0,"???"],[1,2,"COMA"],[1,2,"LSRA"],[1,0,"???"],[1,2,"RORA"],[1,2,"ASRA"],[1,2,"ASLA"],[1,2,"ROLA"],[1,2,"DECA"],[1,0,"???"],[1,2,"INCA"],[1,2,"TSTA"],[1,0,"???"],[1,2,"CLRA"],[1,2,"NEGB"],[1,0,"???"],[1,0,"???"],[1,2,"COMB"],[1,2,"LSRB"],[1,0,"???"],[1,2,"RORB"],[1,2,"ASRB"],[1,2,"ASLB"],[1,2,"ROLB"],[1,2,"DECB"],[1,0,"???"],[1,2,"INCB"],[1,2,"TSTB"],[1,0,"???"],[1,2,"CLRB"],[2,6,"NEG"],[1,0,"???"],[1,0,"???"],[2,6,"COM"],[2,6,"LSR"],[1,0,"???"],[2,6,"ROR"],[2,6,"ASR"],[2,6,"LSL"],[2,6,"ROL"],[2,6,"DEC"],[1,0,"???"],[2,6,"INC"],[2,6,"TST"],[2,6,"JMP"],[2,6,"CLR"],[3,7,"NEG"],[1,0,"???"],[1,0,"???"],[3,7,"COM"],[3,7,"LSR"],[1,0,"???"],[3,7,"ROR"],[3,7,"ASR"],[3,7,"LSL"],[3,7,"ROL"],[3,7,"DEC"],[1,0,"???"],[3,7,"INC"],[3,7,"TST"],[3,7,"JMP"],[3,7,"CLR"],[2,4,"SUBA"],[2,4,"CMPA"],[2,4,"SBCA"],[3,8,"SUBD"],[2,4,"ANDA"],[2,4,"BITA"],[2,4,"LDA"],[1,0,"???"],[2,4,"EORA"],[2,4,"ADCA"],[2,4,"ORA"],[2,4,"ADDA"],[3,8,"CMPX"],[2,5,"BSR"],[3,8,"LDX"],[1,0,"???"],[2,1,"SUBA"],[2,1,"CMPA"],[2,1,"SBCA"],[2,1,"SUBd"],[2,1,"ANDA"],[2,1,"BITA"],[2,1,"LDA"],[2,1,"STA"],[2,1,"EORA"],[2,1,"ADCA"],[2,1,"ORA"],[2,1,"ADDA"],[2,1,"CMPX"],[2,1,"JSR"],[2,1,"LDX"],[2,1,"STX"],[2,6,"SUBA"],[2,6,"CMPA"],[2,6,"SBCA"],[2,6,"SUBD"],[2,6,"ANDA"],[2,6,"BITA"],[2,6,"LDA"],[2,6,"STA"],[2,6,"EORA"],[2,6,"ADCA"],[2,6,"ORA"],[2,6,"ADDA"],[2,6,"CMPX"],[2,6,"JSR"],[2,6,"LDX"],[2,6,"STX"],[3,7,"SUBA"],[3,7,"CMPA"],[3,7,"SBCA"],[3,7,"SUBD"],[3,7,"ANDA"],[3,7,"BITA"],[3,7,"LDA"],[3,7,"STA"],[3,7,"EORA"],[3,7,"ADCA"],[3,7,"ORA"],[3,7,"ADDA"],[3,7,"CMPX"],[3,7,"JSR"],[3,7,"LDX"],[3,7,"STX"],[2,4,"SUBB"],[2,4,"CMPB"],[2,4,"SBCB"],[3,8,"ADDD"],[2,4,"ANDB"],[2,4,"BITB"],[2,4,"LDB"],[1,0,"???"],[2,4,"EORB"],[2,4,"ADCB"],[2,4,"ORB"],[2,4,"ADDB"],[3,8,"LDD"],[1,0,"???"],[3,8,"LDU"],[1,0,"???"],[2,1,"SUBB"],[2,1,"CMPB"],[2,1,"SBCB"],[2,1,"ADDD"],[2,1,"ANDB"],[2,1,"BITB"],[2,1,"LDB"],[2,1,"STB"],[2,1,"EORB"],[2,1,"ADCB"],[2,1,"ORB "],[2,1,"ADDB"],[2,1,"LDD "],[2,1,"STD "],[2,1,"LDU "],[2,1,"STU "],[2,6,"SUBB"],[2,6,"CMPB"],[2,6,"SBCB"],[2,6,"ADDD"],[2,6,"ANDB"],[2,6,"BITB"],[2,6,"LDB"],[2,6,"STB"],[2,6,"EORB"],[2,6,"ADCB"],[2,6,"ORB"],[2,6,"ADDB"],[2,6,"LDD"],[2,6,"STD"],[2,6,"LDU"],[2,6,"STU"],[3,7,"SUBB"],[3,7,"CMPB"],[3,7,"SBCB"],[3,7,"ADDD"],[3,7,"ANDB"],[3,7,"BITB"],[3,7,"LDB"],[3,7,"STB"],[3,7,"EORB"],[3,7,"ADCB"],[3,7,"ORB"],[3,7,"ADDB"],[3,7,"LDD"],[3,7,"STD"],[3,7,"LDU"],[3,7,"STU"]];
var at={63:[2,2,"SWI3"],131:[4,8,"CMPU"],140:[4,8,"CMPS"],147:[3,1,"CMPU"],156:[3,1,"CMPS"],163:[3,6,"CMPU"],172:[3,6,"CMPS"],179:[4,7,"CMPU"],188:[4,7,"CMPS"]};
var au={33:[5,3,"LBRN"],34:[5,3,"LBHI"],35:[5,3,"LBLS"],36:[5,3,"LBCC"],37:[5,3,"LBCS"],38:[5,3,"LBNE"],39:[5,3,"LBEQ"],40:[5,3,"LBVC"],41:[5,3,"LBVS"],42:[5,3,"LBPL"],43:[5,3,"LBMI"],44:[5,3,"LBGE"],45:[5,3,"LBLT"],46:[5,3,"LBGT"],47:[5,3,"LBLE"],63:[2,2,"SWI2"],131:[4,8,"CMPD"],140:[4,8,"CMPY"],142:[4,8,"LDY"],147:[3,1,"CMPD"],156:[3,1,"CMPY"],158:[3,1,"LDY"],159:[3,1,"STY"],163:[3,6,"CMPD"],172:[3,6,"CMPY"],174:[3,6,"LDY"],175:[3,6,"STY"],179:[4,7,"CMPD"],188:[4,7,"CMPY"],190:[4,7,"LDY"],191:[4,7,"STY"],206:[4,8,"LDS"],222:[3,1,"LDS"],223:[3,1,"STS"],238:[3,6,"LDS"],239:[3,6,"STS"],254:[4,7,"LDS"],255:[4,7,"STS"]};
var X=function(aX,a3,a2,a0,aZ,T){var aR=function(a7,a6){var a5=a7.toString(16);while(a5.length<a6){a5="0"+a5;}return a5.toUpperCase();};var aL=function(a5){return aR(a5&255,2);
};var aK=function(a5){return aR(a5,4);};var aM,aP,aW;var aU=t[aX];if(aX===16){aU=au[a3];if(aU===undefined){return["???",2];}aX=a3;a3=a2;a2=a0;a0=aZ;}if(aX===17){aU=at[a3];
if(aU===undefined){return["???",2];}aX=a3;a3=a2;a2=a0;a0=aZ;}var aT=aU[0];var aS=aU[1];var aN=aU[2];switch(aS){case 0:break;case 1:aN+=" $"+aL(a3);break;
case 2:break;case 3:aN+=" #$"+aK((a3*256+a2)<32768?(a3*256+a2+T):(a3*256+a2+T-65536));break;case 4:aN+=" #$"+aL(a3);break;case 5:aN+=" #$"+aK((a3)<128?(a3+T+2):(a3+T-254));
break;case 6:aN+=" ";var aJ=a3;var aQ=["X","Y","U","S"][(aJ&96)>>5];if(!(aJ&128)){var aV=aJ&31;if(aV>15){aV=aV-32;}aN+=aV+","+aQ;break;}var aO=aJ&16;var a4=aJ&15;
var a1=(a2>127)?(a2-256):a2;var aY=((a2*256+a0)>32767)?((a2*256+a0)-65536):(a2*256+a0);if(!aO){switch(a4){case 0:aN+=","+aQ+"+";break;case 1:aN+=","+aQ+"++";
break;case 2:aN+=",-"+aQ;break;case 3:aN+=",--"+aQ;break;case 4:aN+=","+aQ;break;case 5:aN+="B,"+aQ;break;case 6:aN+="A,"+aQ;break;case 7:aN+="???";break;
case 8:aN+=a1+","+aQ;aT++;break;case 9:aN+=aY+","+aQ;aT+=2;break;case 10:aN+="???";break;case 11:aN+="D,"+aQ;break;case 12:aN+=a1+",PC";aT++;break;case 13:aN+=aY+",PC";
aT+=2;break;case 14:aN+="???";break;case 15:aN+="$"+aK((a2*256+a0));aT+=2;break;}}else{switch(a4){case 0:aN+="???";break;case 1:aN+="[,"+aQ+"++]";break;
case 2:aN+="???";break;case 3:aN+="[,--"+aQ+"]";break;case 4:aN+="[,"+aQ+"]";break;case 5:aN+="[B,"+aQ+"]";break;case 6:aN+="[A,"+aQ+"]";break;case 7:aN+="???";
break;case 8:aN+="["+a1+","+aQ+"]";aT++;break;case 9:aN+="["+aY+","+aQ+"]";aT+=2;break;case 10:aN+="???";break;case 11:aN+="[D,"+aQ+"]";break;case 12:aN+="["+a1+",PC]";
aT++;break;case 13:aN+="["+aY+",PC]";aT+=2;break;case 14:aN+="???";break;case 15:aN+="[$"+aK((a2*256+a0))+"]";aT+=2;break;}}break;case 7:aN+=" $"+aK(a3*256+a2);
break;case 8:aN+=" #$"+aK(a3*256+a2);break;case 10:aM=["PC","U","Y","X","DP","B","A","CC"];aP=[];for(aW=0;aW<8;aW++){if((a3&1)!==0){aP.push(aM[7-aW]);}a3>>=1;
}aN+=" "+aP.join(",");break;case 11:aM=["PC","S","Y","X","DP","B","A","CC"];aP=[];for(aW=0;aW<8;aW++){if((a3&1)!==0){aP.push(aM[7-aW]);}a3>>=1;}aN+=" "+aP.join(",");
break;case 20:aM=["D","X","Y","U","S","PC","?","?","A","B","CC","DP","?","?","?","?"];aN+=" "+aM[a3>>4]+","+aM[a3&15];break;}return[aN,aT];};return{steps:function(T){while(T>0){T-=L();
}},T:function(){return ac;},reset:Z,init:function(aJ,aK,T){n=aJ;u=aK;ticks=T;Z();},status:function(){return{pc:an,sp:i,u:g,a:r,b:o,x:e,y:c,dp:aa,flags:aq};
},interrupt:function(){},nmi:function(){},set:function(T,aJ){switch(T.toUpperCase()){case"PC":an=aJ;return;case"A":r=aJ;return;case"B":o=aJ;return;case"X":e=aJ;
return;case"Y":c=aJ;return;case"SP":i=aJ;return;case"U":g=aJ;return;case"FLAGS":aq=aJ;return;}},flagsToString:function(){var aK="",aJ="EFHINZVC";for(var T=0;
T<8;T++){var aL=aq&(128>>T);if(aL===0){aK+=aJ[T].toLowerCase();}else{aK+=aJ[T];}}return aK;},disasm:X};}));